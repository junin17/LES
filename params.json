{"name":"Laboratório de Engenharia de Software","tagline":"Padrões para WEB","body":"### Page Controller\r\n\r\nO Page Controller em sua implementação mais simples, implementa um controle pra cada pagina ou requisição através de um Servlet.\r\n\r\nImplementado através de um Servlet</br>\r\n\r\n\r\n**Servlet**\r\n`````\r\n protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        PrintWriter out = response.getWriter();\r\n        \r\n        \r\n        String nome=request.getParameter(\"nome\");\r\n        String email=request.getParameter(\"email\");\r\n        String data=request.getParameter(\"dataNascimento\");\r\n        String endereco=request.getParameter(\"endereco\");\r\n        Date dataNascimento=null;\r\n        try {\r\n            dataNascimento=new SimpleDateFormat(\"dd/MM/yyyy\").parse(data);\r\n        } catch (ParseException ex) {\r\n            out.println(\"Erro de conversão da data\");\r\n            \r\n        }\r\n        Contato contato=new Contato(nome,email,dataNascimento,endereco);\r\n        contato.salvarContato(DataBase.getInstance().getContatos());\r\n        \r\n        \r\n        out.println(\"Dado Salvo com Sucesso!!!\");\r\n        out.println(DataBase.getInstance().getContatos().toString());\r\n        \r\n    }\r\n```\r\n\r\n**Pagina HTML com o formulario**\r\n`````\r\n<html>\r\n  <body>\r\n    <h1>Adiciona Contatos</h1>\r\n    <hr />\r\n    <form action=\"adicionaContato\">\r\n      Nome: <input type=\"text\" name=\"nome\" /><br />\r\n      E-mail: <input type=\"text\" name=\"email\" /><br />\r\n      Endereco: <input type=\"text\" name=\"endereco\" /><br />\r\n      Data Nascimento: \r\n        <input type=\"text\" name=\"dataNascimento\" /><br />\r\n      \r\n      <input type=\"submit\" value=\"Gravar\" />\r\n    </form>\r\n  </body>\r\n</html>\r\n```\r\n\r\n**Web.xml**\r\n`````\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\">\r\n    <servlet>\r\n        <servlet-name>AdicionaContato</servlet-name>\r\n        <servlet-class>controller.ContatoController</servlet-class>\r\n    </servlet>\r\n    <servlet-mapping>\r\n        <servlet-name>AdicionaContato</servlet-name>\r\n        <url-pattern>/adicionaContato</url-pattern>\r\n    </servlet-mapping>\r\n</web-app>\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n<br/><br/><br/><br/>\r\n### Front Controller\r\n\r\nO FrontController em sua implementação tem um controlador geral para as requisições da pagina Web\r\n\r\nImplementado através de um Servlet</br>\r\n\r\n**Servlet**\r\n`````\r\nprotected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        Comando comando=null;\r\n        \r\n        try{\r\n            comando = (Comando) Class.forName(\"comandos.\"+request.getParameter(\"command\")).newInstance();\r\n        }\r\n        catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }\r\n        \r\n        comando.execute(request, response);\r\n    }\r\n```\r\n\r\n**Interface Comando**\r\n`````\r\npublic interface Comando {\r\n    \r\n    public void execute(HttpServletRequest request, HttpServletResponse response);\r\n}\r\n\r\n```\r\n\r\n**Exibe Pagina Flamengo**\r\n`````\r\npublic class ExibePaginaFlamengo implements Comando{\r\n    \r\n    public void execute(HttpServletRequest request, HttpServletResponse response) { \r\n        try { \r\n            RequestDispatcher d = request.getRequestDispatcher(\"/flamengo.jsp\"); \r\n            d.forward(request,response); \r\n        } \r\n        catch (ServletException e) { \r\n            e.printStackTrace(); \r\n        } \r\n        catch (IOException e){\r\n            e.printStackTrace(); \r\n        }\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n**Exibe Pagina Vasco**\r\n`````\r\npublic class ExibePaginaVasco implements Comando{\r\n    public void execute(HttpServletRequest request, HttpServletResponse response) { \r\n        try { \r\n            RequestDispatcher d = request.getRequestDispatcher(\"/vasco.jsp\"); \r\n            d.forward(request,response); \r\n        } \r\n        catch (ServletException e) { \r\n            e.printStackTrace(); \r\n        } \r\n        catch(IOException e){\r\n            e.printStackTrace(); \r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n<br/><br/><br/><br/>\r\n### Application Controller\r\nCria um centralizador para manipular a navegação de tela o fluxo da aplicação\r\n\r\n**Servlet do Controller**\r\n`````\r\npublic class Controller extends HttpServlet {\r\n\r\n    /**\r\n     * Processes requests for both HTTP <code>GET</code> and <code>POST</code>\r\n     * methods.\r\n     *\r\n     * @param request servlet request\r\n     * @param response servlet response\r\n     * @throws ServletException if a servlet-specific error occurs\r\n     * @throws IOException if an I/O error occurs\r\n     */\r\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        \r\n        String strDoComando= (String) request.getParameter(\"command\");\r\n        Aplicacao apl= new ControladorDeAplicacao();\r\n        Comando comando=apl.lerComandoDeDominio(strDoComando);\r\n        comando.execute(request, response);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Controlador da Aplicação**\r\n`````\r\npublic class ControladorDeAplicacao implements Aplicacao {\r\n   \r\n\r\n    public Comando lerComandoDeDominio(String comando) {\r\n        Comando comand=null;\r\n        try {\r\n            comand = (Comando) Class.forName(\"modelo.\"+comando).newInstance();\r\n        } catch (ClassNotFoundException ex) {\r\n            ex.printStackTrace();\r\n        } catch (InstantiationException ex) {\r\n            ex.printStackTrace();\r\n        } catch (IllegalAccessException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return comand;\r\n    }\r\n}\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}